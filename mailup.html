<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./Img/caja.png">
    <title>Enviar Email de Prueba</title>
    <script>
        async function sendEmail() {
            // Datos de usuario y autenticación SMTP+
            const smtpUsername = 's154745_3';
            const smtpPassword = 'QbikuGyHqJ';

            // Cuerpo del email
            const emailData = {
                "Html": {
                    "DocType": null,
                    "Head": null,
                    "Body": `
                        <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f0f0f5; padding: 10px;">
    <div style="background-color: #ffffff; border-radius: 16px; padding: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); margin: auto;">
        <div style="text-align: center;"><img src="https://i.ibb.co/3cFWspq/Novogar-logo.png" style="width: 100%; max-width: 400px;" alt="Logo">
            <hr style="border: 1px solid #e0e0e0; margin: 20px 0;">
            <h2 style="color: #333; font-size: 28px; margin: 0;">&iexcl;Hola LUCAS PONZONI!</h2>
            <p style="color: #555; font-size: 16px; margin: 10px 0;">Referente al Pedido del usuario: <u><a href="mailto:lucasponzoninovogar@gmail.com" target="_blank" style="color: #007aff;">lucasponzoninovogar@gmail.com</a></u></p>
            <hr style="border: 1px solid #e0e0e0; margin: 20px 0;">
            <h1 style="color: #333; font-size: 24px;">&iexcl;Tu compra ha sido preparada para despacho!</h1>
        </div>
        <div style="margin: 20px 0; text-align: center;">
            <p style="font-size: 16px; color: #333;">Dentro de los pr&oacute;ximos <strong style="color: #28a745;">2 d&iacute;as h&aacute;biles</strong>, cuando tu compra llegue al dep&oacute;sito del operador log&iacute;stico, podr&aacute;s seguir el estado con el n&uacute;mero de seguimiento:</p>
            <p style="font-weight: bold;">Pedido N&deg;: [N&uacute;mero de Pedido]</p>
            <p style="font-weight: bold;">Transportista: [Nombre del Transportista]</p>
            <p style="font-weight: bold;">Seguimiento: [N&uacute;mero de Seguimiento]</p><a href="[URL%20de%20seguimiento]" style="display: inline-block; background-color: #007aff; color: #ffffff; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: bold; margin-top: 10px;">Rastrear mi pedido</a>
        </div>
        <hr style="border: 1px solid #e0e0e0; margin: 20px 0;">
        <div style="text-align: center; font-size: 14px; color: rgb(102, 102, 102);">
            <p>Recuerda que cualquier persona mayor de 18 a&ntilde;os puede recibir tu paquete presentando su DNI.</p>
            <p>No es posible programar un d&iacute;a espec&iacute;fico ni horario de entrega. El d&iacute;a de la visita, recibir&aacute;s un correo electr&oacute;nico con el asunto &apos;Hoy vamos a visitarte&apos;. Los plazos de entrega oscilan entre 3 y 12 d&iacute;as h&aacute;biles.</p>
            <table style="width: 100%; background-color: #4B5563; color: #fff; border-radius: 8px; padding: 15px;">
                <tbody>
                    <tr>
                        <td style="padding: 10px;">
                            <p style="text-align: left;"><strong>IMPORTANTE:</strong> Nuestro servicio de entregas es puerta a puerta. Los choferes/acompa&ntilde;antes no tienen permitido el ingreso a los domicilios.</p>
                            <p style="text-align: left;"><strong>VISITAS:</strong> En caso de que en la primera visita notifiquen &apos;Destinatario Ausente&apos;, volver&aacute;n a visitarte dentro de las 72hs h&aacute;biles.</p>
                            <p style="text-align: left;">Si al recibir tu paquete notas alg&uacute;n da&ntilde;o en el embalaje, <strong style="color: #FFD700;">te pedimos que rechaces la entrega de inmediato</strong>.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <p style="text-align: center; margin-top: 20px;">Ante cualquier inconveniente, comun&iacute;cate con nosotros enviando un email a <a href="mailto:posventa@novogar.com.ar" style="color: #007aff;">posventa@novogar.com.ar</a>, indicando tu n&uacute;mero de pedido.</p>
            <p style="text-align: center; margin-top: 20px;">Gracias por elegir Novogar.</p><a href="https://wa.me/549XXXXXXXXXX" style="display: inline-block; background-color: #25D366; color: #ffffff; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: bold; margin-top: 20px;">Contactar por WhatsApp</a>
        </div>
    </div>
</div>`,
                    "BodyTag": "<body>"
                },
                "Text": "Tu compra ha sido despachada. Consulta el email HTML para más detalles.",
                "Subject": "Confirmación de Despacho",
                "From": {
                    "Name": "TEST EMAIL DESPACHO",
                    "Email": "posventa@novogar.com.ar"
                },
                "To": [
                    {
                        "Name": "Lucas Ponzoni",
                        "Email": "lucasponzoninovogar@gmail.com"
                    }
                ],
                "Cc": [],
                "Bcc": [],
                "ReplyTo": null,
                "CharSet": "utf-8",
                "ExtendedHeaders": null,
                "Attachments": null,
                "EmbeddedImages": [],
                "XSmtpAPI": {
                    "CampaignName": "Test Campaign",
                    "CampaignCode": "1001",
                    "Header": false,
                    "Footer": true,
                    "ClickTracking": null,
                    "ViewTracking": null,
                    "Priority": null,
                    "Schedule": null,
                    "DynamicFields": [],
                    "CampaignReport": null,
                    "SkipDynamicFields": null
                },
                "User": {
                    "Username": smtpUsername,
                    "Secret": smtpPassword
                }
            };

            try {
                const response = await fetch('https://proxy.cors.sh/https://send.mailup.com/API/v2.0/messages/sendmessage', {
                    method: 'POST',
                    headers: {
                        'x-cors-api-key': 'live_36d58f4c13cb7d838833506e8f6450623bf2605859ac089fa008cfeddd29d8dd',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(emailData)
                });

                const result = await response.json();
                if (result.Status === 'done') {
                    console.log('Email enviado exitosamente');
                } else {
                    console.log(`Error al enviar el email: ${result.Message}`);
                }
            } catch (error) {
                console.error('Error:', error);
                console.log('Error al enviar el email.');
            }
        }
    </script>
</head>
<body>

    <h2>Enviar Email de Prueba</h2>
    <button onclick="sendEmail()">Enviar Email</button>

</body>
</html>

