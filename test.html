<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desplazamiento de Texto con Tooltip</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        #data-table th:nth-child(5), 
        #data-table td:nth-child(5) {
            max-width: 100px; 
            overflow: hidden;
            text-overflow: ellipsis; 
            white-space: nowrap;
            position: relative; /* Necesario para el efecto de desplazamiento */
        }

        .ellipsis {
            display: inline-block;
            position: absolute; 
            left: 100%; 
        }
    </style>
</head>
<body>

<div class="table-responsive">
    <table id="data-table" class="table table-striped">
        <thead>
            <tr>
                <th>Fecha</th>
                <th>Estado</th>
                <th>Cliente</th>
                <th>Remito</th>
                <th>Valor</th>
                <th>Operador</th>
                <th>Eliminar</th>
                <th>Chat</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>01/01/2024</td>
                <td>Activo</td>
                <td>Cliente A</td>
                <td>Remito 123</td>
                <td class="text-truncate" data-toggle="tooltip" title="Este es un texto muy largo que no cabe en la celda">
                    <div class="ellipsis">Este es un texto muy largo que no cabe en la celda</div>
                </td>
                <td>Operador 1</td>
                <td><button class="btn btn-danger">Eliminar</button></td>
                <td><button class="btn btn-info">Chat</button></td>
            </tr>
        </tbody>
    </table>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip(); // Inicializa los tooltips
    });

    const ellipsisElements = document.querySelectorAll('.ellipsis');

    ellipsisElements.forEach(el => {
        const textWidth = el.scrollWidth; // Ancho del texto
        const containerWidth = el.parentElement.clientWidth; // Ancho del contenedor

        if (textWidth > containerWidth) {
            el.style.left = `${containerWidth}px`; // Comienza fuera de la vista a la derecha

            let position = containerWidth; // Posición inicial

            setInterval(() => {
                position -= 1; // Mueve el texto hacia la izquierda
                el.style.left = `${position}px`;

                // Reinicia la posición si sale de la vista
                if (position < -textWidth) {
                    position = containerWidth; // Vuelve a comenzar
                }
            }, 20); // Ajusta la velocidad del desplazamiento
        }
    });
</script>

</body>
</html>
